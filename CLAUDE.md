# CLAUDE.md - –ì–ª–∞–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∞ Avito-–ø–∞—Ä—Å–µ—Ä

–£ –∫–æ–¥–∞ —Å—Ç–∞–≤—å –∫–æ–º–µ–Ω—Ç–∞—Ä–∏–∏, –Ω–æ –Ω–µ–±–æ–ª—å—à–∏–µ –∏ –Ω–µ —Ç–∞–∫ –º–Ω–æ–≥–æ

–í—Å–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã—Ö –≤–µ—Ä—Å–∏—è

Avito-–ø–∞—Ä—Å–µ—Ä - —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–æ–≤—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π –Ω–∞ Avito —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–æ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram. –ó–∞–¥–∞—á–∞: –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º (–∫–∞—Ç–µ–≥–æ—Ä–∏—è, —Ä–µ–≥–∏–æ–Ω, –±—Ä–µ–Ω–¥, –º–æ–¥–µ–ª—å) –∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ —É–≤–µ–¥–æ–º–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram. –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã: 24/7, —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏.

## üéØ –§–ò–õ–û–°–û–§–ò–Ø –ü–†–û–ï–ö–¢–ê: KISS

**Keep It Simple, Stupid** - –í–°–ï –î–û–õ–ñ–ù–û –ë–´–¢–¨ –ü–†–û–°–¢–´–ú, –ë–ï–ó –õ–ò–®–ù–ï–ì–û.

- –ù–ï–¢ –∏–∑–±—ã—Ç–æ—á–Ω–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏
- –ù–ï–¢ —Å–ª–æ–∂–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- –ü—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω—ã–π, –ø–æ–Ω—è—Ç–Ω—ã–π –∫–æ–¥
- –û–¥–Ω–∞ –∑–∞–¥–∞—á–∞ = –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è

---

## ‚õî –ö–ê–¢–ï–ì–û–†–ò–ß–ï–°–ö–ò–ï –ó–ê–ü–†–ï–¢–´

### 1. –ü–ê–†–°–ò–ù–ì - –¢–û–õ–¨–ö–û –ö–ê–¢–ê–õ–û–ì

**–ó–ê–ü–†–ï–©–ï–ù–û:**
- ‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `parse_card` –∏–∑ avito-library
- ‚ùå –î–µ–ª–∞—Ç—å `page.goto()` –Ω–∞ URL –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- ‚ùå –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –≤ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤
- ‚ùå –°–æ–±–∏—Ä–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–∞—Ä—Ç–æ—á–µ–∫

**–†–ê–ó–†–ï–®–ï–ù–û:**
- ‚úÖ –¢–æ–ª—å–∫–æ `parse_catalog` –Ω–∞ 1-–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- ‚úÖ –¢–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
- ‚úÖ URL –∫–∞—Ä—Ç–æ—á–∫–∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ `https://www.avito.ru/{item_id}`

### 2. –ë–ê–ó–ê –î–ê–ù–ù–´–• - –ù–ò–ö–ê–ö–ò–• ORM

**–ó–ê–ü–†–ï–©–ï–ù–û:**
- ‚ùå SQLAlchemy
- ‚ùå Tortoise ORM
- ‚ùå Peewee
- ‚ùå –õ—é–±—ã–µ ORM

**–†–ê–ó–†–ï–®–ï–ù–û:**
- ‚úÖ –¢–æ–ª—å–∫–æ asyncpg —Å —á–∏—Å—Ç—ã–º–∏ SQL –∑–∞–ø—Ä–æ—Å–∞–º–∏
- ‚úÖ –ü—Ä—è–º—ã–µ INSERT, UPDATE, SELECT

### 3. –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø - –¢–û–õ–¨–ö–û DOCKER-COMPOSE

**–ó–ê–ü–†–ï–©–ï–ù–û:**
- ‚ùå –°–æ–∑–¥–∞–≤–∞—Ç—å config.py —Å –∫–ª–∞—Å—Å–∞–º–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å .env —Ñ–∞–π–ª—ã
- ‚ùå –•—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö

**–†–ê–ó–†–ï–®–ï–ù–û:**
- ‚úÖ –í–°–ï –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ docker-compose.yml –≤ —Å–µ–∫—Ü–∏–∏ environment
- ‚úÖ –ß—Ç–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `os.getenv()` –≤ –∫–æ–¥–µ
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–µ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### 4. –ë–†–ê–£–ó–ï–† - –û–î–ù–ê –°–¢–†–ê–ù–ò–¶–ê –ù–ê –í–û–†–ö–ï–†–ê

**–ó–ê–ü–†–ï–©–ï–ù–û:**
- ‚ùå –°–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—É—é page –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏
- ‚ùå –ó–∞–∫—Ä—ã–≤–∞—Ç—å –∏ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã
- ‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å headless=True

**–†–ê–ó–†–ï–®–ï–ù–û:**
- ‚úÖ –û–¥–Ω–∞ –¥–æ–ª–≥–æ–ª–∏–≤—É—â–∞—è page –Ω–∞ –≤–æ—Ä–∫–µ—Ä–∞
- ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥—É –∑–∞–¥–∞—á–∞–º–∏
- ‚úÖ –¢–æ–ª—å–∫–æ chromium, —Ç–æ–ª—å–∫–æ headless=False —Å Xvfb

### 5. –ë–õ–û–ö–õ–ò–°–¢–´ - –¢–û–õ–¨–ö–û –ü–û–°–õ–ï TELEGRAM

**–ó–ê–ü–†–ï–©–ï–ù–û:**
- ‚ùå –î–æ–±–∞–≤–ª—è—Ç—å item_id –≤ –±–ª–æ–∫–ª–∏—Å—Ç –î–û –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram
- ‚ùå –î–æ–±–∞–≤–ª—è—Ç—å –≤ –±–ª–æ–∫–ª–∏—Å—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ Telegram

**–†–ê–ó–†–ï–®–ï–ù–û:**
- ‚úÖ –î–æ–±–∞–≤–ª—è—Ç—å –¢–û–õ–¨–ö–û –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram
- ‚úÖ –ï—Å–ª–∏ Telegram —É–ø–∞–ª - item_id –ù–ï –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è (–≥–∞—Ä–∞–Ω—Ç–∏—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏)

---

## ‚úÖ –ì–õ–ê–í–ù–´–ï –ü–†–ò–ù–¶–ò–ü–´

### 1. –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

```
15 asyncio –≤–æ—Ä–∫–µ—Ä–æ–≤ ‚Üí 1 –ø—Ä–æ—Ü–µ—Å—Å Python ‚Üí asyncio.gather()
15 Xvfb –¥–∏—Å–ø–ª–µ–µ–≤ ‚Üí DISPLAY :1 –¥–æ :15
1 –±—Ä–∞—É–∑–µ—Ä chromium –Ω–∞ –≤–æ—Ä–∫–µ—Ä–∞ ‚Üí 1 –¥–æ–ª–≥–æ–ª–∏–≤—É—â–∞—è page
```

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å.

### 2. –ñ–ò–ó–ù–ï–ù–ù–´–ô –¶–ò–ö–õ –ó–ê–î–ê–ß - –¶–ò–†–ö–£–õ–Ø–†–ù–´–ô

```
pending ‚Üí in_progress ‚Üí completed ‚Üí (1 —Å–µ–∫) ‚Üí pending ‚Üí ...
```

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–æ–≤—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞.

### 3. –î–ê–ù–ù–´–ï - –û–î–ù–û –ú–ï–°–¢–û –•–†–ê–ù–ï–ù–ò–Ø

- **groups.json** - –≥—Ä—É–ø–ø—ã –ø–∞—Ä—Å–∏–Ω–≥–∞

- **sellers_blocklist.txt** - –±–ª–æ–∫–ª–∏—Å—Ç –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
- **PostgreSQL** - –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ (–∑–∞–¥–∞—á–∏, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –±–ª–æ–∫–ª–∏—Å—Ç—ã)

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è, –æ–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã.

### 4. –û–ë–†–ê–ë–û–¢–ö–ê –û–®–ò–ë–û–ö - RETRY –° –£–ú–û–ú

```python
–ö–∞–ø—á–∞ –Ω–µ —Ä–µ—à–∏–ª–∞—Å—å (10 –ø–æ–ø—ã—Ç–æ–∫) ‚Üí —Å–º–µ–Ω–∞ –ø—Ä–æ–∫—Å–∏ ‚Üí retry
403/407 –ø—Ä–æ–∫—Å–∏ ‚Üí –±–∞–Ω –Ω–∞–≤—Å–µ–≥–¥–∞ ‚Üí —Å–º–µ–Ω–∞ ‚Üí retry
429 (rate limit) ‚Üí –ù–ï –±–∞–Ω ‚Üí —Å–º–µ–Ω–∞ ‚Üí retry
Telegram —É–ø–∞–ª ‚Üí retry –¥–æ 5 –ø–æ–ø—ã—Ç–æ–∫
NOT_DETECTED ‚Üí retry –¥–æ 5 –ø–æ–ø—ã—Ç–æ–∫ ‚Üí failed
```

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ù–µ –ø–∞–Ω–∏–∫–æ–≤–∞—Ç—å, –ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞, –∑–Ω–∞—Ç—å –∫–æ–≥–¥–∞ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.

### 5. –ó–ê–í–ò–°–®–ò–ï –†–ï–°–£–†–°–´ - –ê–í–¢–û–û–ß–ò–°–¢–ö–ê

```
–ó–∞–¥–∞—á–∏ locked_at > 10 –º–∏–Ω—É—Ç ‚Üí –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ
–ü—Ä–æ–∫—Å–∏ locked_at > 30 –º–∏–Ω—É—Ç ‚Üí –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ
–í–æ—Ä–∫–µ—Ä —É–ø–∞–ª ‚Üí release_worker_resources(worker_id)
```

**–ü—Ä–∏–Ω—Ü–∏–ø:** –°–∞–º–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞.

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –ü–†–ê–í–ò–õ–ê

### Playwright

1. –¢–æ–ª—å–∫–æ async API
2. –¢–æ–ª—å–∫–æ chromium
3. headless=False + Xvfb –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
4. –û–¥–∏–Ω –±—Ä–∞—É–∑–µ—Ä = –æ–¥–∏–Ω DISPLAY (:1, :2, ..., :15)

### –î–µ—Ç–µ–∫—Ç–æ—Ä—ã avito-library

**–ü–æ—Å–ª–µ –ö–ê–ñ–î–û–ì–û page.goto() –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:**

```python
resp = await page.goto(url, wait_until="domcontentloaded")
state = await detect_page_state(page, last_response=resp)
```

**–î–µ–π—Å—Ç–≤–∏—è –°–¢–†–û–ì–û –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞:**

- `CATALOG_DETECTOR_ID` ‚Üí parse_catalog
- `CAPTCHA_DETECTOR_ID` –∏–ª–∏ CONTINUE_BUTTON_DETECTOR_ID` –∏–ª–∏ `PROXY_BLOCK_429_DETECTOR_ID` ‚Üí resolve_captcha_flow
- `PROXY_BLOCK_403_DETECTOR_ID` ‚Üí ban_proxy + —Å–º–µ–Ω–∞
- `NOT_DETECTED_STATE_ID` ‚Üí retry (–¥–æ 5 –ø–æ–ø—ã—Ç–æ–∫)

### parse_catalog

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã (–§–ò–ö–°–ò–†–û–í–ê–ù–ù–´–ï):**

```python
fields = ["item_id", "title", "price", "currency", "seller_name", "location", "published"]
max_pages = 1
sort_by_date = True
include_html = False
start_page = 1
```

**–ü—Ä–∏–Ω—Ü–∏–ø:** –¢–æ–ª—å–∫–æ —Å–≤–µ–∂–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Å –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –¥–∞—Ç–µ.

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è listings

**–í —Ç–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ:**

1. `"—Å–µ–≥–æ–¥–Ω—è" in listing.published.lower()` –ò–õ–ò `listing.published is None/empty`
2. `listing.seller_name NOT IN blocklist_sellers` (–≥–ª–æ–±–∞–ª—å–Ω—ã–π)
3. `listing.item_id NOT IN blocklist_items` (–µ—Å–ª–∏ blocklist_mode='global' ‚Üí —Ç–æ–ª—å–∫–æ global, –µ—Å–ª–∏ 'local' ‚Üí —Ç–æ–ª—å–∫–æ local)

**–ü—Ä–∏–Ω—Ü–∏–ø:** –¢–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è, —Ç–æ–ª—å–∫–æ –æ—Ç –Ω–µ–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥–∞–≤—Ü–æ–≤.

---

## üìã –ò–ù–í–ê–†–ò–ê–ù–¢–´ (–ù–ï–ò–ó–ú–ï–ù–Ø–ï–ú–´–ï –ü–†–ê–í–ò–õ–ê)

### –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç 1: URL –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```
https://www.avito.ru/{region_slug}/{category_path}?cd=1&radius=0&searchRadius=0&localPriority=0&s=104[&q=...]
```

- –ï—Å–ª–∏ `all_russia=true` ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `/all` –≤–º–µ—Å—Ç–æ `region_slug`
- –ï—Å–ª–∏ `enrich_q=true` ‚Üí –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Ä–æ–¥–æ–≤–æ–µ —Å–ª–æ–≤–æ –í –ö–û–ù–ï–¶ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ q
- –ü–∞—Ä–∞–º–µ—Ç—Ä `q` –º–æ–∂–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å (–≤—Å—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è)

### –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç 2: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á

```python
brands=[audi, bmw], models={audi: [a6, q7], bmw: [x5]}
‚Üí 5 –∑–∞–¥–∞—á:
  - q=audi
  - q=audi a6
  - q=audi q7
  - q=bmw
  - q=bmw x5

brands=[], models={}
‚Üí 1 –∑–∞–¥–∞—á–∞ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ q (–≤—Å—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è)

models={audi: []}
‚Üí 1 –∑–∞–¥–∞—á–∞ q=audi (–ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ ‚â† –ø—Ä–æ–ø—É—Å–∫ –±—Ä–µ–Ω–¥–∞)
```

### –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç 3: Telegram —Ñ–æ—Ä–º–∞—Ç

```
{emoji} {title}
üí∞ {price} {currency}
üìç {location}
üîó https://www.avito.ru/{item_id}
```

Emoji –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:
- avtomobili ‚Üí üöó
- mototsikly ‚Üí üèç
- snegohody ‚Üí üõ∑
- kvadrotsikly ‚Üí üèç
- gidrotsikly ‚Üí üõ•
- katera_i_yahty ‚Üí ‚õµ

### –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç 4: –ë–ª–æ–∫–ª–∏—Å—Ç—ã

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ (–í–°–ï–ì–î–ê –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram):**
- –û–±—ä—è–≤–ª–µ–Ω–∏—è: –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –û–î–ù–û–í–†–ï–ú–ï–ù–ù–û –≤ blocklist_items_global –ò blocklist_items_local
- –ü—Ä–æ–¥–∞–≤—Ü—ã: –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ blocklist_sellers (–≥–ª–æ–±–∞–ª—å–Ω–æ)

**–ü—Ä–æ–≤–µ—Ä–∫–∞ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç blocklist_mode –≥—Ä—É–ø–ø—ã):**
- –ï—Å–ª–∏ blocklist_mode='global': –ø—Ä–æ–≤–µ—Ä—è–µ–º –¢–û–õ–¨–ö–û blocklist_items_global
- –ï—Å–ª–∏ blocklist_mode='local': –ø—Ä–æ–≤–µ—Ä—è–µ–º –¢–û–õ–¨–ö–û blocklist_items_local –¥–ª—è —ç—Ç–æ–π –≥—Ä—É–ø–ø—ã
- –ü—Ä–æ–¥–∞–≤—Ü—ã: –í–°–ï–ì–î–ê –ø—Ä–æ–≤–µ—Ä—è–µ–º blocklist_sellers (–≤—Å–µ –≥—Ä—É–ø–ø—ã)

**–ü—Ä–∏–Ω—Ü–∏–ø:** –í—Å–µ –≤–∏–¥—è—Ç –≤—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è (—á–µ—Ä–µ–∑ global), –Ω–æ –ª–æ–∫–∞–ª—å–Ω—ã–µ –≥—Ä—É–ø–ø—ã –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ (—á–µ—Ä–µ–∑ local —Ñ–∏–ª—å—Ç—Ä).

### –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç 5: –ü—Ä–æ–∫—Å–∏ –ø–æ–ª–∏—Ç–∏–∫–∞

```
403/407 ‚Üí is_banned=True –Ω–∞–≤—Å–µ–≥–¥–∞
429 ‚Üí –ù–ï –±–∞–Ω, —Å–º–µ–Ω–∞ –ø—Ä–æ–∫—Å–∏
–ö–∞–ø—á–∞ –Ω–µ —Ä–µ—à–∏–ª–∞—Å—å (10 –ø–æ–ø—ã—Ç–æ–∫) ‚Üí —Å–º–µ–Ω–∞ –ø—Ä–æ–∫—Å–∏
–ù–µ—Ç —Å–≤–æ–±–æ–¥–Ω—ã—Ö –ø—Ä–æ–∫—Å–∏ ‚Üí –∂–¥–∞—Ç—å, –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å
```

---

**KISS. Always.**

---

**–ö–æ–Ω–µ—Ü CLAUDE.md**
